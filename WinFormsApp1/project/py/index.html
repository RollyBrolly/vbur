<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Praxis Data Visualization</title>
    <link rel="icon" href="image/unilogo.png" type="image/png">
    <link rel="stylesheet" href="style.css">
</head>
<body>  
    <header>
        <img src="image/unilogo.png" class="logo" alt="PSU Logo">
        <h1>Praxis Data Visualization</h1>
    </header>

    <main>
        <!-- Distribution Visual -->
        <div class="visual-container">
            <h2>Distribution of Passed vs Failed</h2>
            <iframe id="distFrame" src="visual_distribution.html" width="600px" height="400px" style="border:none;"></iframe>
            <button class="btn" onclick="openModal('modal1')">View Details</button>
        </div>

        <!-- Correlation Visual -->
        <div class="visual-container">
            <h2>Feature Correlation Matrix</h2>
            <iframe id="corrFrame" src="visual_correlation.html" width="100%" height="400px" style="border:none;"></iframe>
            <button class="btn" onclick="openModal('modal2')">View Details</button>
        </div>

        <!-- Confusion Matrix Visual -->
        <div class="visual-container">
            <h2>Confusion Matrix</h2>
            <iframe id="confFrame" src="visual_confusion.html" width="100%" height="400px" style="border:none;"></iframe>
            <button class="btn" onclick="openModal('modal3')">View Details</button>
        </div>

        <!-- Modals -->
        <div id="modal1" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('modal1')">&times;</span>
                <iframe src="visual_distribution.html" width="100%" height="600px" style="border:none;"></iframe>
                <h2>Distribution of Passed vs Failed</h2>
                <p>Majority of students scored Passed. Fewer students scored Failed. Most students are successful compared to unsuccessful ones.</p>
            </div>
        </div>

        <div id="modal2" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('modal2')">&times;</span>
                <iframe src="visual_correlation.html" width="100%" height="600px" style="border:none;"></iframe>
                <h2>Feature Correlation Matrix</h2>
                <p>All C1-C10 performance criteria positively correlate. High performance in one area likely predicts high performance in others.</p>
            </div>
        </div>

        <div id="modal3" class="modal">
            <div class="modal-content">
                <span class="close" onclick="closeModal('modal3')">&times;</span>
                <iframe src="visual_confusion.html" width="100%" height="600px" style="border:none;"></iframe>
                <h2>Confusion Matrix</h2>
                <p>True Positives (TP), True Negatives (TN), False Positives (FP), False Negatives (FN) are displayed accurately. The model predicted perfectly with no misclassifications.</p>
            </div>
        </div>
    </main>

    <footer>
        <h1>Conclusion</h1>
        <p>
            Praxis can host a student OJT management system. The data shows most students received Passed (48), while a few got Failed (14), indicating some imbalance. The correlation table shows strong positive relationships among all C1-C10 criteria. The confusion matrix indicates the model performed perfectly. Overall, the criteria are consistent indicators of student performance.
        </p>
    </footer>

    <script>
        // Modal open/close functions
        function openModal(modalId) {
            document.getElementById(modalId).style.display = 'flex';
        }
        function closeModal(modalId) {
            document.getElementById(modalId).style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target.classList.contains('modal')) {
                event.target.style.display = 'none';
            }
        }

        // Auto-refresh iframes every 5 seconds
        setInterval(() => {
            document.getElementById('distFrame').src = "visual_distribution.html?" + new Date().getTime();
            document.getElementById('corrFrame').src = "visual_correlation.html?" + new Date().getTime();
            document.getElementById('confFrame').src = "visual_confusion.html?" + new Date().getTime();
        }, 5000);
    </script>
</body>
</html>
